{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-12 featured-image-container d-flex justify-content-center align-items-center">
            <div class="col-md-6">
                <img src="https://res.cloudinary.com/dvplixxng/image/upload/{{ article.featured_image }}" class="img-fluid" alt="{{ article.title }}">
            </div>
        </div>
    </div>
</div>

<section>
    <div class="container mt-4 mb-4">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-body">
                        <!--Article title-->
                        <h2 class="text-uppercase">{{ article.title }}</h2>

                        <!--Article author and article creation date-->
                        <span class="mb-1 text-muted">{{article.created_on|date:"F d, Y" }} at {{ article.created_on|date:"H:i" }} | by {{ article.author }}</span>

                        <!--Article content-->
                        <p class="mt-4">{{ article.article_body | safe}}</p>
                        <div class="row">
                            <div class="col-1">
                                <strong><i class="fa-brands fa-gratipay" style="color: #0074d9;"></i> {{ article.number_of_likes }} </strong>
                            </div>
                            <div class="col-1">
                                {% with commments.count as total_comments %}
                                <strong><i class="fa-solid fa-comment-dots" style="color: #0074d9;"></i>
                                    {{ total_comments}}</strong>
                                {% endwith %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
        <div class="col-md-8">
            <h3>Comments:</h3>
            <div class="card-body">
                {% for comment in comments %}
                    <p>{{ comment.user }}
                        <span> {{comment.created_on}}</span> wrote: 
                    </p>
                    {{ comment.message | linebreaks }}
                {% endfor %}
            </div>
        </div>
        </div>
    </div>
</section>

{% endblock %}